{% extends "authed-base.html" %}

{% block content %}
    <div hx-ext="sse" sse-connect="/games/{{ game.game_code }}/sse/player">
        <div id="game_board" hx-get="/games/{{ game.game_code }}/x/board" hx-trigger="sse:host_action">
            {% include "game-as-player-board.html" %}
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script type="text/javascript">
        // Created At
        document.getElementById("created_at").innerText = new Date({{ game.created_at * 1000 }}).toLocaleString();

        document.body.addEventListener("apply_created_at", function (evt) {
            document.getElementById("created_at").innerText = new Date({{ game.created_at * 1000 }}).toLocaleString();
        });
    </script>
{% endblock %}

